
{% extends "admin/admin.html" %}

    <style type="text/css">
    	body{
    margin-top:20px;
    background:#ebeef0;
}
.panel {
    box-shadow: 0 2px 0 rgba(0,0,0,0.075);
    border-radius: 0;
    border: 0;
    margin-bottom: 24px;
}
.panel .panel-heading, .panel>:first-child {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}
.bg-primary, .bg-primary a {
    color: #fff;
}
.bg-primary {
    background-color: #5fa2dd;
}
.bg-success, .bg-success a {
    color: #fff;
}
.bg-success {
    background-color: #91c957;
}

.widget-header {
    padding: 15px 15px 50px 15px;
    min-height: 125px;
    position: relative;
    overflow: hidden;
}
.panel .panel-footer, .panel>:last-child {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}
.widget-body {
    padding: 50px 15px 15px;
    position: relative;
}
.panel-body {
    padding: 25px 20px;
}
.pad-all {
    padding: 15px;
}
.widget-img {
    position: absolute;
    width: 64px;
    height: 64px;
    left: 50%;
    margin-left: -32px;
    top: -32px;
}
.img-md {
    width: 64px;
    height: 64px;
}
.widget-bg {
    position: absolute;
    top: 0;
    left: 0;
    min-width: 100%;
    min-height: 100%;
}
.img-border-light {
    box-shadow: 0 0 0 4px #fff;
}
.img-border {
    box-shadow: 0 0 0 4px rgba(0,0,0,0.1);
}
.mar-no {
    margin: 0 !important;
}
h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
    font-weight: 600;
}
.text-muted, a.text-muted:hover, a.text-muted:focus, a.text-muted:focus {
    color: #606060;
}
.mar-btm {
    margin-bottom: 15px;
}
.pad-ver {
    padding-top: 15px;
    padding-bottom: 15px;
}
.pad-btm {
    padding-bottom: 15px;
}
.pad-top {
    padding-top: 8px;
}
.small, small {
    font-size: 65%;
}
.text-lg {
    font-size: 75%;
}
.btn {
    cursor: pointer;
    padding: 6px 12px;
    border-radius: 0;
    border: 1px solid 0;
    font-size: 11px;
    line-height: 1.42857;
    vertical-align: middle;
    -webkit-transition: all .25s;
    transition: all .25s;
}



    </style>
     {% block Rides_List %}
 
    <script type="text/javascript">
            function ride_request(button_ref)
            {   

            var id_data={'id':button_ref.id};

                    $.ajax({
            type: 'post',
            url: '/ride_request',
            data: JSON.stringify(id_data),
            contentType: 'application/json',
 
            
            success: function (data) { alert("Ride Request Sending...");

                             window.location.href='/request'
                             } });





                // var xhttp= new XMLHttpRequest();
                // xhttp.open("POST",'/ride_request',true);
                // xhttp.send();
            }





    </script>

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="row bootstrap snippets"  >
    
    {% for rider in riders %}
    <div class="col-md-4" style="margin-left:30%;" id={{ rider.id }}>
        <div class="panel text-center">
    		<div class="panel-body">
    			<img alt="Avatar" class="img-md img-circle img-border mar-btm" src={{ rider.image_path }} >
    			<h4 class="mar-no">{{ rider.name }}</h4>
                <p>{{ rider.from_place }}- {{ rider.to_place }}</p><br>
    			 
    		</div>
    		<div class="pad-all" style="text-align:center">
    			<p class="text-muted">
    				Date : {{ rider.date }}
    			</p>
                <p class="text-muted">
                    Vehicle : {{ rider.vehicle }}
                </p>
                <p class="text-muted">
                    Licence no: {{ rider.licence}}
                </p>
                 <p class="text-muted">
                    Time : {{ rider.time}}
                </p>
                <p class="text-muted">
                    Mobile : {{ rider.mobile }}
                </p>
                <p class="text-muted">
                    Email : {{ rider.email }}
                </p>
                <p class="text-muted">
                    Extra Info: {{ rider.extra_info }}
                </p>


    			<div class="pad-btm">
    				<button class="btn btn-primary" id={{rider.id }}{{ rider.rider_id }} onclick="ride_request(this)">Request</button>
    				 
    			</div>
    		</div>
    	</div>
    </div>    
    {% else %}
    <div class="col-md-6" style= "margin:10px; width:100%; ">
    <h3> It seems that no rider has been found in your route </h3>
    </div>

    {% endfor %}

</div>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript">
	
</script>

{% endblock %}